<div [ngClass]="mainThemeClass">
  <div class="pageName-headerDiv">
    <mat-card class="tagus-card p-0 pb-25 dark-theme-bg">
      <mat-card-header class="m-0">
        <div>
          <h5 class="mb-0" [ngClass]="mainThemeClass!='' ? 'theme-text-color': ''">Contract Agreement Form</h5>
          <div class="d-flex">
            <span class="material-symbols-outlined cursor-pointer" (click)="location.back()">
              west
            </span><app-breadcrumb class="ms-10 mt-3"></app-breadcrumb>
          </div>
        </div>

        <div *ngIf="!IsApproverView && !isView" class="d-flex justify-content-end align-items-center pe-30">
          <h5 class="mb-0 me-15 cursor-pointer custom-underline" (click)="versionPageredirect()"
            [ngClass]="[mainThemeClass!='' ? 'theme-text-color': '',!editMode || !IsAuditTrail? 'd-none':'']">
            Version History
          </h5>
          <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"
            class="cursor-pointer me-15" (click)="resetForm()" matTooltip="Reset">
            <g id="solar:refresh-bold">
              <path *ngIf="!darkThemeMode" id="Vector"
                d="M10.5692 1.96876C6.37444 1.96876 2.92694 5.17389 2.59094 9.26014H1.75007C1.61996 9.26007 1.49278 9.29869 1.38467 9.37107C1.27656 9.44344 1.1924 9.54632 1.14289 9.66664C1.09337 9.78695 1.08074 9.91926 1.10659 10.0468C1.13244 10.1743 1.19561 10.2912 1.28807 10.3828L2.75807 11.8405C2.88097 11.9623 3.04701 12.0307 3.22007 12.0307C3.39312 12.0307 3.55916 11.9623 3.68207 11.8405L5.15207 10.3828C5.24452 10.2912 5.30769 10.1743 5.33354 10.0468C5.35939 9.91926 5.34676 9.78695 5.29724 9.66664C5.24773 9.54632 5.16357 9.44344 5.05546 9.37107C4.94735 9.29869 4.82017 9.26007 4.69007 9.26014H3.90869C4.24119 5.90801 7.09194 3.28126 10.5692 3.28126C11.7157 3.27888 12.8436 3.5707 13.845 4.1288C14.8465 4.6869 15.688 5.49262 16.2891 6.46888C16.3331 6.54463 16.3918 6.61081 16.4617 6.66351C16.5317 6.71621 16.6115 6.75437 16.6965 6.77574C16.7814 6.79711 16.8698 6.80126 16.9563 6.78794C17.0429 6.77462 17.1259 6.7441 17.2005 6.69819C17.2751 6.65228 17.3398 6.59189 17.3907 6.5206C17.4416 6.44931 17.4777 6.36854 17.4969 6.28308C17.5161 6.19761 17.5179 6.10917 17.5024 6.02296C17.4869 5.93676 17.4542 5.85453 17.4064 5.78113C16.688 4.61413 15.6823 3.65088 14.4854 2.98342C13.2885 2.31597 11.9396 1.96662 10.5692 1.96876ZM18.2359 9.15864C18.1131 9.03734 17.9474 8.96932 17.7748 8.96932C17.6022 8.96932 17.4365 9.03734 17.3137 9.15864L15.8376 10.6164C15.7449 10.7078 15.6814 10.8248 15.6554 10.9523C15.6293 11.0799 15.6418 11.2124 15.6913 11.3328C15.7407 11.4533 15.8249 11.5563 15.933 11.6288C16.0412 11.7013 16.1685 11.7399 16.2987 11.7399H17.0853C16.7511 15.0911 13.8907 17.7188 10.3968 17.7188C9.24675 17.722 8.11501 17.4306 7.10946 16.8725C6.1039 16.3143 5.25803 15.508 4.65244 14.5303C4.60717 14.4569 4.54789 14.3932 4.47798 14.3427C4.40808 14.2922 4.32892 14.2561 4.24503 14.2362C4.16114 14.2163 4.07415 14.2132 3.98905 14.2269C3.90394 14.2407 3.82237 14.271 3.749 14.3163C3.60083 14.4078 3.49505 14.5543 3.45493 14.7237C3.4148 14.8932 3.44363 15.0716 3.53507 15.2198C4.25829 16.388 5.26859 17.3516 6.46973 18.0188C7.67086 18.686 9.02282 19.0346 10.3968 19.0313C14.6038 19.0313 18.0662 15.8288 18.4031 11.7399H19.2501C19.3803 11.7399 19.5076 11.7013 19.6157 11.6288C19.7239 11.5563 19.808 11.4533 19.8575 11.3328C19.9069 11.2124 19.9194 11.0799 19.8934 10.9523C19.8673 10.8248 19.8039 10.7078 19.7112 10.6164L18.2359 9.15864Z"
                fill="black" />
              <path *ngIf="darkThemeMode" id="Vector"
                d="M10.5692 1.96876C6.37444 1.96876 2.92694 5.17389 2.59094 9.26014H1.75007C1.61996 9.26007 1.49278 9.29869 1.38467 9.37107C1.27656 9.44344 1.1924 9.54632 1.14289 9.66664C1.09337 9.78695 1.08074 9.91926 1.10659 10.0468C1.13244 10.1743 1.19561 10.2912 1.28807 10.3828L2.75807 11.8405C2.88097 11.9623 3.04701 12.0307 3.22007 12.0307C3.39312 12.0307 3.55916 11.9623 3.68207 11.8405L5.15207 10.3828C5.24452 10.2912 5.30769 10.1743 5.33354 10.0468C5.35939 9.91926 5.34676 9.78695 5.29724 9.66664C5.24773 9.54632 5.16357 9.44344 5.05546 9.37107C4.94735 9.29869 4.82017 9.26007 4.69007 9.26014H3.90869C4.24119 5.90801 7.09194 3.28126 10.5692 3.28126C11.7157 3.27888 12.8436 3.5707 13.845 4.1288C14.8465 4.6869 15.688 5.49262 16.2891 6.46888C16.3331 6.54463 16.3918 6.61081 16.4617 6.66351C16.5317 6.71621 16.6115 6.75437 16.6965 6.77574C16.7814 6.79711 16.8698 6.80126 16.9563 6.78794C17.0429 6.77462 17.1259 6.7441 17.2005 6.69819C17.2751 6.65228 17.3398 6.59189 17.3907 6.5206C17.4416 6.44931 17.4777 6.36854 17.4969 6.28308C17.5161 6.19761 17.5179 6.10917 17.5024 6.02296C17.4869 5.93676 17.4542 5.85453 17.4064 5.78113C16.688 4.61413 15.6823 3.65088 14.4854 2.98342C13.2885 2.31597 11.9396 1.96662 10.5692 1.96876ZM18.2359 9.15864C18.1131 9.03734 17.9474 8.96932 17.7748 8.96932C17.6022 8.96932 17.4365 9.03734 17.3137 9.15864L15.8376 10.6164C15.7449 10.7078 15.6814 10.8248 15.6554 10.9523C15.6293 11.0799 15.6418 11.2124 15.6913 11.3328C15.7407 11.4533 15.8249 11.5563 15.933 11.6288C16.0412 11.7013 16.1685 11.7399 16.2987 11.7399H17.0853C16.7511 15.0911 13.8907 17.7188 10.3968 17.7188C9.24675 17.722 8.11501 17.4306 7.10946 16.8725C6.1039 16.3143 5.25803 15.508 4.65244 14.5303C4.60717 14.4569 4.54789 14.3932 4.47798 14.3427C4.40808 14.2922 4.32892 14.2561 4.24503 14.2362C4.16114 14.2163 4.07415 14.2132 3.98905 14.2269C3.90394 14.2407 3.82237 14.271 3.749 14.3163C3.60083 14.4078 3.49505 14.5543 3.45493 14.7237C3.4148 14.8932 3.44363 15.0716 3.53507 15.2198C4.25829 16.388 5.26859 17.3516 6.46973 18.0188C7.67086 18.686 9.02282 19.0346 10.3968 19.0313C14.6038 19.0313 18.0662 15.8288 18.4031 11.7399H19.2501C19.3803 11.7399 19.5076 11.7013 19.6157 11.6288C19.7239 11.5563 19.808 11.4533 19.8575 11.3328C19.9069 11.2124 19.9194 11.0799 19.8934 10.9523C19.8673 10.8248 19.8039 10.7078 19.7112 10.6164L18.2359 9.15864Z"
                fill="white" />
            </g>
          </svg>
          <button (click)="location.back()" mat-flat-button class="gray text-dark me-15 white-color">
            Cancel
          </button>
          <button *ngIf="selectedtab!=4" [disabled]="!isAddAccess" mat-flat-button color="primary"
            class="bg-theme-color" [ngClass]="[isAddAccess?'text-white':'']" (click)="moveToNextTab()">Save and Next
          </button>
          <button *ngIf="!editMode && selectedtab==4" [disabled]="!isAddAccess" mat-flat-button color="primary"
            class="bg-theme-color" [ngClass]="[isAddAccess?'text-white':'']" (click)="addContract()">Save
          </button>
          <button *ngIf="editMode && selectedtab==4" [disabled]="!isEditAccess" mat-flat-button color="primary"
            class="bg-theme-color" [ngClass]="[isEditAccess?'text-white':'']" (click)="updateContract()">Update
          </button>
        </div>

        <div *ngIf="isView" class="d-flex justify-content-end align-items-center pe-30">
          <h5 class="mb-0 me-30 cursor-pointer custom-underline" (click)="versionPageredirect()"
            [ngClass]="[mainThemeClass!='' ? 'theme-text-color': '',!IsAuditTrail? 'd-none':'']">
            Version History
          </h5>
          <button (click)="location.back()" mat-flat-button class="gray me-15 white-color">
            Back
          </button>
        </div>

        <div *ngIf="IsApproverView" class="d-flex justify-content-end align-items-center pe-30">

          <button (click)="location.back()" mat-flat-button class="gray mt-10 me-15 white-color">
            Cancel
          </button>

          <button mat-stroked-button [disabled]="!isApprovAccess" class="mt-10 me-15"
            [ngClass]="[mainThemeClass!='' ? 'dialog-save-btn': 'text-bg-info',isApprovAccess?'text-white':'']"
            (click)="approveRequest()">Approve
          </button>

          <button (click)="rejectRequest()" mat-stroked-button class="mt-10 me-15" [disabled]="!isApprovAccess"
            [ngClass]="[isApprovAccess?'custom-gray-bg text-white ':'']">
            Reject
          </button>
        </div>
      </mat-card-header>
    </mat-card>
  </div>

  <mat-card class="mb-25 tagus-card p-0">
    <mat-card-content>
      <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start" (selectedTabChange)="tabClick($event)"
        [selectedIndex]="selectedtab" class="tab-group-1">
        <mat-tab label="Tab 1">
          <ng-template mat-tab-label class="shadow-md">
            <b class="tabName">Contract Agreement Details</b>
          </ng-template>
          <div class="pt-30 pe-30 ps-30 pb-15 mat-tab-div-first-tab">
            <div class="mb-15  h-100">
              <mat-accordion class="example-headers-align" multi class="form-expansion-panel">
                <mat-expansion-panel class="box-shadow-none" [expanded]="true">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Agreement Details
                    </mat-panel-title>
                  </mat-expansion-panel-header>

                  <div class="position-relative">
                    <form [formGroup]="AgmtDetailsForm">
                      <div class="row p-15 mt-10">
                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-18 ms-20 mt-20">
                            <mat-label class="mb-20">Master Agreement</mat-label>
                            <mat-slide-toggle [tabIndex]="1" formControlName="masterAgreement"
                              (change)="masterToggle($event.checked)"></mat-slide-toggle>
                          </div>

                          <div class="tagus-form-group without-icon  mandatory-field">
                            <mat-form-field appearance="fill">
                              <mat-label for="agmtDate">Agreement Date</mat-label>
                              <input [tabIndex]="4" matInput [matDatepicker]="picker1" formControlName="agmtDate"
                                placeholder="DD/MM/YYYY" (dateChange)="onDateChange($event,'agmtDate')">
                              <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
                              <mat-datepicker #picker1></mat-datepicker>
                              <mat-error *ngIf="AgmtDetailsFormSubmitted && AgmtDetailsValidators['agmtDate'].errors && AgmtDetailsValidators['agmtDate'].errors['required']
                              ">Select Agreement Date </mat-error>
                            </mat-form-field>
                          </div>

                          <div class="disable-input">
                            <div class="tagus-form-group without-icon disable-input">
                              <mat-form-field appearance="fill">
                                <mat-label for="cAgCode">C.Ag.Code</mat-label>
                                <input [tabIndex]="8" matInput type="text" class="form-control" placeholder="C.Ag.Code"
                                  formControlName="cAgCode" [readonly]="true">
                              </mat-form-field>
                            </div>
                          </div>

                          <div class="tagus-form-group without-icon mb-20"
                            [ngClass]="masterAgmtSelected?'disable-input':''">
                            <ng-select [tabIndex]="11" dropdownPosition="bottom" formControlName="subscription"
                              placeholder="Subscription" class="dropdown" bindLabel="ClientName" bindValue="Id"
                              [items]="subscriptionList" [appendTo]="'body'" [clearable]="false"
                              [readonly]="masterAgmtSelected" #subDropdown (window:scroll)="subDropdown.close()"
                              [ngClass]="subDropdown.hasValue || subDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>

                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="sicCode">SIC Code</mat-label>
                              <input [tabIndex]="14" matInput type="text" class="form-control" placeholder="SIC Code"
                                formControlName="sicCode"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>

                          <div class="tagus-form-group without-icon mb-20">
                            <ng-select [tabIndex]="17" dropdownPosition="bottom" formControlName="bdmManager"
                              placeholder="BDM Manager" class="dropdown" bindLabel="UserName" bindValue="Id"
                              [items]="bdmManagerList" [appendTo]="'body'" [clearable]="false" #bdmManagerDropdown
                              (window:scroll)="bdmManagerDropdown.close()"
                              [ngClass]="bdmManagerDropdown.hasValue || bdmManagerDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>

                          <div class="tagus-form-group without-icon mb-20">
                            <ng-select [tabIndex]="20" dropdownPosition="bottom" formControlName="registerOwner"
                              placeholder="Register Owner" class="dropdown" bindLabel="type" bindValue="Id"
                              [items]="registerOwnerList" [appendTo]="'body'" [clearable]="false" #registerOwnerDropdown
                              (window:scroll)="registerOwnerDropdown.close()"
                              [ngClass]="registerOwnerDropdown.hasValue || registerOwnerDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>

                          <div class="tagus-form-group without-icon  ">
                            <mat-form-field appearance="fill">
                              <mat-label for="forCloseCharges">Forcloser Charges</mat-label>
                              <input [tabIndex]="23" matInput type="text" class="form-control"
                                placeholder="Forcloser Charges" formControlName="forCloseCharges"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>

                          <div class="d-flex flex-column">
                            <div class="d-flex justify-content-space-between p-10">
                              <mat-label><strong> Standard Accessories </strong></mat-label>
                            </div>
                            <div class="selection-list-div">
                              <mat-selection-list [tabIndex]="26" #accessories formControlName="Stdaccessories"
                                [multiple]="true">
                                <mat-list-option *ngFor="let accessory of accessoriesList" [togglePosition]="'before'"
                                  [value]="accessory.Id">
                                  {{ accessory.AccessoriesName }}
                                </mat-list-option>
                              </mat-selection-list>
                            </div>
                          </div>

                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group without-icon mandatory-field"
                            [ngClass]="editMode?'disable-input':''">
                            <ng-select [tabIndex]="2" dropdownPosition="bottom" formControlName="clientName"
                              placeholder="Select Client" class="dropdown" bindLabel="ClientName" bindValue="Id"
                              [items]="clientList" [appendTo]="'body'" [clearable]="false"
                              (change)="selectClient($event)" [readonly]="editMode" #clientDropdown
                              (window:scroll)="clientDropdown.close()"
                              [ngClass]="clientDropdown.hasValue || clientDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                            <mat-error class="ms-15 me-15"
                              [ngStyle]="{visibility:(AgmtDetailsFormSubmitted && AgmtDetailsValidators['clientName'].errors && AgmtDetailsValidators['clientName'].errors['required'])?'visible':'hidden'}">Select
                              Client</mat-error>
                          </div>

                          <div class="disable-input">
                            <div class="tagus-form-group  without-icon">
                              <mat-form-field appearance="fill">
                                <mat-label for="agmtNo">Agreement No</mat-label>
                                <input [tabIndex]="5" matInput type="text" class="form-control"
                                  placeholder="Agreement No" formControlName="agmtNo" [readonly]="true">
                              </mat-form-field>
                            </div>
                          </div>

                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="miscCost">Delivery / Misc Cost</mat-label>
                              <input [tabIndex]="9" matInput type="text" class="form-control"
                                placeholder="Delivery / Misc Cost" formControlName="miscCost"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>

                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="penalInterest">Penal Interest</mat-label>
                              <input [tabIndex]="12" matInput type="text" class="form-control"
                                placeholder="Penal Interest" formControlName="penalInterest"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>

                          <div class="tagus-form-group without-icon mandatory-field">
                            <ng-select [tabIndex]="15" dropdownPosition="bottom" formControlName="objectType"
                              placeholder="Object Type" class="dropdown" bindLabel="ObjectName" bindValue="Id"
                              [items]="objectTypeList" [appendTo]="'body'" [clearable]="false" #objectTypeDropdown
                              (window:scroll)="objectTypeDropdown.close()"
                              [ngClass]="objectTypeDropdown.hasValue || objectTypeDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                            <mat-error class="me-15 ms-15"
                              [ngStyle]="{visibility:(AgmtDetailsFormSubmitted && AgmtDetailsForm.get('objectType')!.hasError('required'))?'visible':'hidden'}">Select
                              Object Type </mat-error>
                          </div>

                          <div class="tagus-form-group without-icon mb-20">
                            <ng-select [tabIndex]="18" dropdownPosition="bottom" formControlName="paymentType"
                              placeholder="Payment Type" class="dropdown" bindLabel="paymentMode" bindValue="Id"
                              [items]="paymentTypeList" [appendTo]="'body'" [clearable]="false" #paymentTypeDropdown
                              (window:scroll)="paymentTypeDropdown.close()"
                              [ngClass]="paymentTypeDropdown.hasValue || paymentTypeDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>

                          <div class="tagus-form-group without-icon mb-20">
                            <ng-select [tabIndex]="21" dropdownPosition="bottom" formControlName="aActDate"
                              placeholder="Asset Activation Date" class="dropdown" bindLabel="type" bindValue="Id"
                              [items]="assestActDateList" [appendTo]="'body'" [clearable]="false" #aActDateDropdown
                              (window:scroll)="aActDateDropdown.close()"
                              [ngClass]="aActDateDropdown.hasValue || aActDateDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>

                          <div class="tagus-form-group without-icon  ">
                            <mat-form-field appearance="fill">
                              <mat-label for="fixedValue">Fixed Value %</mat-label>
                              <input [tabIndex]="24" matInput type="text" class="form-control"
                                placeholder="Fixed Value %" formControlName="fixedValue"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>

                          <div class="col-8 d-flex justify-content-space-between mb-30 ms-15">
                            <mat-label>Is Online</mat-label>
                            <mat-slide-toggle [tabIndex]="27" formControlName="isOnline"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group without-icon mandatory-field">
                            <ng-select [tabIndex]="3" dropdownPosition="bottom" formControlName="relManager"
                              placeholder="Relationship Manager" class="dropdown" bindLabel="UserName" bindValue="Id"
                              [items]="relManagerList" [appendTo]="'body'" [clearable]="false" #relManagerDropdown
                              (window:scroll)="relManagerDropdown.close()"
                              [ngClass]="relManagerDropdown.hasValue || relManagerDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                            <mat-error class="ms-15 me-15"
                              [ngStyle]="{visibility:(AgmtDetailsFormSubmitted && AgmtDetailsValidators['relManager'].errors && AgmtDetailsValidators['relManager'].errors['required'])?'visible':'hidden'}">Select
                              Relationship Manager</mat-error>
                          </div>

                          <div class="tagus-form-group without-icon mandatory-field row">
                            <div class="col-7">
                              <ng-select [tabIndex]="6" dropdownPosition="bottom" formControlName="isbounceCharge"
                                placeholder="Bouncing Charges" class="dropdown" bindLabel="type" bindValue="Id"
                                [items]="bounceChargeList" [appendTo]="'body'" [clearable]="false"
                                (change)="bouncingCharge($event)" #bounceChargeDropdown
                                (window:scroll)="bounceChargeDropdown.close()"
                                [ngClass]="bounceChargeDropdown.hasValue || bounceChargeDropdown.isOpen?'placeholder-padding':''">
                              </ng-select>
                              <mat-error class="ms-15"
                                [ngStyle]="{visibility:(AgmtDetailsFormSubmitted && AgmtDetailsForm.get('isbounceCharge')!.hasError('required'))?'visible':'hidden'}">Select
                                Bouncing Charge </mat-error>
                            </div>
                            <div class="col-5" [ngClass]="IsBounceChargeApplied?'':'disable-input'">
                              <div class="tagus-form-group  without-icon">
                                <mat-form-field appearance="fill">
                                  <mat-label for="bounceChargeValue"></mat-label>
                                  <input [tabIndex]="7" matInput type="text" class="form-control"
                                    formControlName="bounceChargeValue"
                                    (keypress)="this.commonService.validateDecimal($event.keyCode)"
                                    [readonly]="!IsBounceChargeApplied">
                                  <mat-error
                                    *ngIf="AgmtDetailsFormSubmitted && AgmtDetailsForm.get('bounceChargeValue')!.hasError('required')">Enter
                                    Value </mat-error>
                                </mat-form-field>
                              </div>

                            </div>
                          </div>

                          <div class="tagus-form-group  without-icon mb-20">
                            <ng-select [tabIndex]="10" dropdownPosition="bottom" formControlName="industryType"
                              placeholder="Industry Type" class="dropdown" bindLabel="industryType" bindValue="Id"
                              [items]="industryTypeList" [appendTo]="'body'" [clearable]="false" #industryTypeDropdown
                              (window:scroll)="industryTypeDropdown.close()"
                              [ngClass]="industryTypeDropdown.hasValue || industryTypeDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>

                          <div class="tagus-form-group without-icon  mandatory-field">
                            <ng-select [tabIndex]="13" dropdownPosition="bottom" formControlName="leaseType"
                              placeholder="Lease Type" class="dropdown" bindLabel="ProductName" bindValue="Id"
                              [items]="leaseTypeList" [appendTo]="'body'" [clearable]="false" #leaseTypeDropdown
                              (window:scroll)="leaseTypeDropdown.close()"
                              [ngClass]="leaseTypeDropdown.hasValue || leaseTypeDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                            <mat-error class="me-15 ms-15"
                              [ngStyle]="{visibility:(AgmtDetailsFormSubmitted && AgmtDetailsForm.get('leaseType')!.hasError('required'))?'visible':'hidden'}">Select
                              Lease Type </mat-error>
                          </div>

                          <div class="tagus-form-group  without-icon mb-20">
                            <ng-select [tabIndex]="16" dropdownPosition="bottom" formControlName="sourcingLoc"
                              placeholder="Sourcing Location" class="dropdown" bindLabel="CityName" bindValue="CityID"
                              [items]="sourcingLocList" [appendTo]="'body'" [clearable]="false" #sourcingLocDropdown
                              (window:scroll)="sourcingLocDropdown.close()"
                              [ngClass]="sourcingLocDropdown.hasValue || sourcingLocDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>


                          <div class="tagus-form-group  without-icon mb-20">
                            <ng-select [tabIndex]="19" dropdownPosition="bottom" formControlName="paymentMode"
                              placeholder="Payment Mode" class="dropdown" bindLabel="type" bindValue="Id"
                              [items]="paymentModeList" [appendTo]="'body'" [clearable]="false" #paymentModeDropdown
                              (window:scroll)="paymentModeDropdown.close()"
                              [ngClass]="paymentModeDropdown.hasValue || paymentModeDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>

                          <div class="tagus-form-group without-icon  ">
                            <mat-form-field appearance="fill">
                              <mat-label for="cancelCharges">Cancellation Charges</mat-label>
                              <input [tabIndex]="22" matInput type="text" class="form-control"
                                placeholder="Cancellation Charges" formControlName="cancelCharges"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>

                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="discRate">Discount Rate</mat-label>
                              <input [tabIndex]="25" matInput type="text" class="form-control"
                                placeholder="Discount Rate" formControlName="discRate"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>

                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label>Remark</mat-label>
                              <textarea [tabIndex]="28" placeholder="Remark" formControlName="contRemark" matInput
                                cols="35" rows="1" aria-setsize=""></textarea>
                            </mat-form-field>
                          </div>
                        </div>

                      </div>
                    </form>
                  </div>

                </mat-expansion-panel>
              </mat-accordion>
            </div>
          </div>
        </mat-tab>

        <mat-tab>
          <ng-template mat-tab-label class="shadow-md">
            <b class="tabName">Continuation</b>
          </ng-template>
          <div class="pt-30 pe-30 ps-30 pb-15 mat-tab-div">
            <div class="mb-15  h-100">
              <mat-accordion class="example-headers-align" multi class="form-expansion-panel">
                <mat-expansion-panel class="box-shadow-none" [expanded]="true">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Continuation Form
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="position-relative">
                    <form [formGroup]="ContinuationForm">
                      <div class="row p-15 mt-10">
                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-25 ms-20 mt-20">
                            <mat-label>Insurance Manage</mat-label>
                            <mat-slide-toggle formControlName="insuranceManage"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-25 ms-20 mt-20">
                            <mat-label>Road Tax Manage</mat-label>
                            <mat-slide-toggle formControlName="roadTaxManage"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group without-icon mb-20">
                            <ng-select dropdownPosition="bottom" formControlName="roadTaxType" placeholder="Road Tax"
                              class="dropdown" bindLabel="type" bindValue="Id" [items]="roadTaxTypeList"
                              [appendTo]="'body'" [clearable]="false" #roadTaxTypeDropdown
                              (window:scroll)="roadTaxTypeDropdown.close()"
                              [ngClass]="roadTaxTypeDropdown.hasValue || roadTaxTypeDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>

                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="firstYDisc">First Year Disc</mat-label>
                              <input matInput type="text" class="form-control" formControlName="firstYDisc"
                                placeholder="First Year Disc"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group without-icon mb-20">
                            <ng-select dropdownPosition="bottom" formControlName="insuranceType"
                              placeholder="Insurance Type" class="dropdown" bindLabel="type" bindValue="Id"
                              [items]="insuranceTypeList" [appendTo]="'body'" [clearable]="false"
                              (change)="insuranceValue($event)" #insuranceTypeDropdown
                              (window:scroll)="insuranceTypeDropdown.close()"
                              [ngClass]="insuranceTypeDropdown.hasValue || insuranceTypeDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon mb-20">
                            <ng-select dropdownPosition="bottom" formControlName="managementFeeType"
                              placeholder="Management Fee" class="dropdown" bindLabel="type" bindValue="Id"
                              [items]="managementFeeTypeList" [appendTo]="'body'" [clearable]="false"
                              (change)="managemtFee($event)" #mgmtFeeDropdown (window:scroll)="mgmtFeeDropdown.close()"
                              [ngClass]="mgmtFeeDropdown.hasValue || mgmtFeeDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="restYDisc">Rest Year Disc</mat-label>
                              <input matInput type="text" class="form-control" formControlName="restYDisc"
                                placeholder="Rest Year Disc"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon mb-20"
                            [ngClass]="insurTypSelected?'disable-input':''">
                            <ng-select dropdownPosition="bottom" formControlName="inFavourOf" placeholder="In Favour Of"
                              class="dropdown" bindLabel="type" bindValue="Id" [items]="inFavourOfList"
                              [appendTo]="'body'" [clearable]="false" [readonly]="insurTypSelected" #inFavourOfDropdown
                              (window:scroll)="inFavourOfDropdown.close()"
                              [ngClass]="inFavourOfDropdown.hasValue || inFavourOfDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>
                        </div>

                        <div class="col-4" [ngClass]="isMFeeApplied?'':'disable-input'">
                          <div class="tagus-form-group  without-icon">
                            <mat-form-field appearance="fill">
                              <mat-label for="managementFeeFixed"></mat-label>
                              <input matInput type="text" class="form-control" formControlName="managementFeeFixed"
                                (keypress)="this.commonService.validateNumber($event.keyCode)"
                                [readonly]="!isMFeeApplied">
                            </mat-form-field>
                          </div>
                        </div>

                      </div>
                    </form>
                  </div>

                </mat-expansion-panel>
              </mat-accordion>
            </div>

            <div class="mb-15  h-100">
              <mat-accordion class="example-headers-align" multi class="form-expansion-panel">
                <mat-expansion-panel class="box-shadow-none" [expanded]="true">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Segment Details
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="position-relative">
                    <div class="mat-elevation-z8   tagus-mat-table overflow-auto m-15">
                      <table (matSortChange)="announceSortChange($event,'segmentTable')" mat-table
                        [dataSource]="segmentTableList" matSort #segmentTable>
                        <ng-container matColumnDef="segmentType">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header="segType">Segment Type</th>
                          <td mat-cell *matCellDef="let element">
                            {{element.segType}}</td>
                        </ng-container>

                        <ng-container matColumnDef="standardAmt">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header="Standard">Standard</th>
                          <td mat-cell *matCellDef="let element">
                            {{element.Standard}}</td>
                        </ng-container>

                        <ng-container matColumnDef="deviationAmt">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header="Deviation">Deviation</th>
                          <td mat-cell *matCellDef="let element" contenteditable="true"
                            (keypress)="this.commonService.validateDecimal($event.keyCode)"
                            (blur)="devtApplied(element,$event)">
                            {{element.Deviation}}

                          </td>
                        </ng-container>

                        <ng-container matColumnDef="appliedAmt">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header="Applied">Applied</th>
                          <td class="text-center" mat-cell *matCellDef="let element">{{element.Applied}}</td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <!-- <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="example-element-row"
                          (click)="selectedRowIndex = row.position"
                          [ngClass]="{'highlightTableColor': selectedRowIndex == row.position}"></tr> -->
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                      </table>

                      <div class="fw-bold no-records text-center" *ngIf="segmentTableList.length==0">
                        No Records Found
                      </div>

                    </div>
                  </div>

                </mat-expansion-panel>
              </mat-accordion>
            </div>
          </div>
        </mat-tab>

        <mat-tab>
          <ng-template mat-tab-label class="shadow-md">
            <b class="tabName">Standard Terms</b>
          </ng-template>
          <div class="pt-30 pe-30 ps-30 pb-15 mat-tab-div">
            <div class="mb-15  h-100">
              <mat-accordion class="example-headers-align" multi class="form-expansion-panel">
                <mat-expansion-panel class="box-shadow-none" [expanded]="true">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Standard Terms Form
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="position-relative">
                    <form [formGroup]="StandardTermsForm">
                      <div class="row p-15 mt-10">
                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-25 ms-20 mt-20">
                            <mat-label>Open Calculation</mat-label>
                            <mat-slide-toggle formControlName="openCalculation"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-25 ms-20 mt-20">
                            <mat-label>Client First Option</mat-label>
                            <mat-slide-toggle formControlName="clientFirstOption"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-25 ms-20 mt-20">
                            <mat-label>Down Payment</mat-label>
                            <mat-slide-toggle formControlName="downPayment"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="rmtbValue">RMTB Deviation</mat-label>
                              <input matInput type="text" class="form-control" formControlName="rmtbValue"
                                placeholder="RMTB Deviation"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="rvValue">RV Deviation</mat-label>
                              <input matInput type="text" class="form-control" formControlName="rvValue"
                                placeholder="RV Deviation"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="interestValue">Interest Deviation</mat-label>
                              <input matInput type="text" class="form-control" formControlName="interestValue"
                                placeholder="Interest Deviation"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="fixedInterestValue">Fixed Interest %</mat-label>
                              <input matInput type="text" class="form-control" formControlName="fixedInterestValue"
                                placeholder="Fixed Interest %"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="clientSpRv">Client Specific RV</mat-label>
                              <input matInput type="text" class="form-control" formControlName="clientSpRv"
                                placeholder="Client Specific RV"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="monthlyPayToOEM">Monthly Payout to OEM</mat-label>
                              <input matInput type="text" class="form-control" formControlName="monthlyPayToOEM"
                                placeholder="Monthly Payout to OEM"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="specMOValue">Special MO Deviation %</mat-label>
                              <input matInput type="text" class="form-control" formControlName="specMOValue"
                                placeholder="Special MO Deviation %"
                                (keypress)="this.commonService.validateDecimal($event.keyCode)">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon  row">
                            <div class="col-8">
                              <mat-form-field appearance="fill">
                                <mat-label for="brokerage">Brokerage</mat-label>
                                <input matInput type="text" class="form-control" formControlName="brokerage"
                                  placeholder="Brokerage"
                                  (keypress)="this.commonService.validateDecimal($event.keyCode)">
                              </mat-form-field>
                            </div>

                            <div class="col-4">
                              <ng-select dropdownPosition="bottom" formControlName="brokerageValue" class="dropdown"
                                bindLabel="item" bindValue="item" [items]="brokerageList" placeholder="Select"
                                [appendTo]="'body'" [clearable]="false" #brokerageDropdown
                                (window:scroll)="brokerageDropdown.close()"
                                [ngClass]="brokerageDropdown.hasValue || brokerageDropdown.isOpen?'placeholder-padding':''">
                              </ng-select>
                            </div>
                          </div>
                        </div>


                        <div class="col-4">
                          <div class="tagus-form-group without-icon mb-20">
                            <ng-select dropdownPosition="bottom" formControlName="residualValue"
                              placeholder="Residual Value" class="dropdown" bindLabel="type" bindValue="Id"
                              [items]="residualList" [appendTo]="'body'" [clearable]="false"
                              (change)="residValue($event)" #residualVDropdown
                              (window:scroll)="residualVDropdown.close()"
                              [ngClass]="residualVDropdown.hasValue || residualVDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group without-icon mb-20"
                            [ngClass]="residHRVSelected?'disable-input':''">
                            <ng-select dropdownPosition="bottom" formControlName="CSNetPrice" placeholder="CS Net Price"
                              class="dropdown" bindLabel="type" bindValue="Id" [items]="CSNetPriceList"
                              [appendTo]="'body'" [clearable]="false" [readonly]="residHRVSelected" #CSNetPriceDropdown
                              (window:scroll)="CSNetPriceDropdown.close()"
                              [ngClass]="CSNetPriceDropdown.hasValue || CSNetPriceDropdown.isOpen?'placeholder-padding':''">
                            </ng-select>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="d-flex justify-content-space-between pe-10 ps-10 pb-10">
                            <mat-label>Road Tax</mat-label>
                            <mat-slide-toggle formControlName="CRVRoadTax"></mat-slide-toggle>
                          </div>
                          <div class="d-flex justify-content-space-between p-10 ">
                            <mat-label>Accessories</mat-label>
                            <mat-slide-toggle formControlName="CRVAccessories"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="d-flex justify-content-space-between pe-10 ps-10 pb-10">
                            <mat-label>With Maint</mat-label>
                            <mat-slide-toggle formControlName="Maintenance"></mat-slide-toggle>
                          </div>
                          <div class="d-flex justify-content-space-between p-10 ">
                            <mat-label>With Tyre & Batteries</mat-label>
                            <mat-slide-toggle formControlName="WithTyreBattery"></mat-slide-toggle>
                          </div>
                        </div>

                        <form [formGroup]="addServiceForm" class="row">
                          <div class="col-4">
                            <div class="tagus-form-group without-icon mb-20">
                              <ng-select dropdownPosition="bottom" formControlName="serviceOffered"
                                placeholder="Service Offered" class="dropdown" bindLabel="ServiceDesc" bindValue="Id"
                                [items]="servicesList" [appendTo]="'body'" [clearable]="false"
                                (change)="selectService($event)" #serviceDropdown
                                (window:scroll)="serviceDropdown.close()"
                                [ngClass]="serviceDropdown.hasValue || serviceDropdown.isOpen?'placeholder-padding':''">
                              </ng-select>
                              <mat-error class="ms-15 me-15"
                                [ngStyle]="{visibility:(isServiceFormSubmitted && serviceValidators['serviceOffered'].errors && serviceValidators['serviceOffered'].errors['required'])?'visible':'hidden'}">Select
                                Service</mat-error>
                            </div>
                          </div>

                          <div class="col-4">
                            <div class="tagus-form-group  without-icon ">
                              <mat-form-field appearance="fill" class="astrik-remove">
                                <mat-label for="deviationPerMonth">Deviation Per
                                  Month</mat-label>
                                <input matInput type="text" class="form-control" formControlName="deviationPerMonth"
                                  placeholder="Deviation Per Month"
                                  (keypress)="this.commonService.validateDecimal($event.keyCode)">
                                <mat-error
                                  *ngIf="isServiceFormSubmitted && addServiceForm.get('deviationPerMonth')!.hasError('required')">Enter
                                  Value </mat-error>
                              </mat-form-field>
                            </div>
                          </div>

                          <div class="col-4 d-flex">
                            <div class="col-6">
                              <div class="d-flex justify-content-space-between pt-10 ps-15 mt-10">
                                <mat-label>Used in Non-Maint.</mat-label>
                                <mat-slide-toggle formControlName="usedInNonMaint"></mat-slide-toggle>
                              </div>
                            </div>

                            <div class="col-6">
                              <div class="d-flex justify-content-end p-10">
                                <button mat-stroked-button [disabled]="!isAddAccess || isView"
                                  [ngClass]="[mainThemeClass!='' ? 'dialog-save-btn': 'text-bg-info',(!isView && isAddAccess)?'text-white':'']"
                                  (click)="AddServiceData()">Add
                                </button>
                              </div>
                            </div>
                          </div>
                        </form>

                      </div>

                      <div class="mat-elevation-z8   tagus-mat-table overflow-auto me-10 ms-10">
                        <table (matSortChange)="announceSortChange($event,'serviceTable')" mat-table
                          [dataSource]="servicesTableList" matSort #serviceTable>
                          <ng-container matColumnDef="serviceID">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="ServiceId">Service ID</th>
                            <td mat-cell *matCellDef="let element">
                              {{element.ServiceId}}</td>
                          </ng-container>

                          <ng-container matColumnDef="serviceDesc">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="ServiceDesc">Service Description</th>
                            <td mat-cell *matCellDef="let element">
                              {{element.ServiceDesc}}</td>
                          </ng-container>

                          <ng-container matColumnDef="Deviation">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="Deviation">Month Deviation</th>
                            <td mat-cell *matCellDef="let element">
                              {{element.Deviation}}
                            </td>
                          </ng-container>

                          <ng-container matColumnDef="nonMaint">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="NonMaintenance">Non-Maint</th>
                            <td class="text-center" mat-cell *matCellDef="let element"><mat-checkbox
                                [checked]="element.NonMaintenance" [disabled]="true"></mat-checkbox>
                            </td>
                          </ng-container>

                          <ng-container matColumnDef="Action">
                            <th mat-header-cell *matHeaderCellDef>Delete</th>
                            <td mat-cell *matCellDef="let element">
                              <!-- <span class="material-symbols-outlined cursor-pointer"
                                (click)="removeServiceData(element)">
                                delete
                              </span> -->
                              <span class="material-symbols-outlined"
                                (click)="isDeleteAccess?removeServiceData(element):''"
                                [ngClass]="isDeleteAccess?'cursor-pointer':'cursor-not-allowed'" matTooltip="Delete">
                                delete
                              </span>
                            </td>
                          </ng-container>

                          <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
                          <tr mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>

                        </table>

                        <div class="fw-bold no-records text-center" *ngIf="servicesTableList.length==0">
                          No Records Found
                        </div>

                      </div>
                    </form>
                  </div>

                </mat-expansion-panel>
              </mat-accordion>
            </div>

            <div class="mb-15  h-100">
              <mat-accordion class="example-headers-align" multi class="form-expansion-panel">
                <mat-expansion-panel class="box-shadow-none" [expanded]="true">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Parameter Details
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="position-relative">
                    <form [formGroup]="StandardTermsForm">
                      <div class="mat-elevation-z8   tagus-mat-table overflow-auto m-15">
                        <table (matSortChange)="announceSortChange($event,'parameterTable')" mat-table
                          [dataSource]="parametersList" matSort #parameterTable>
                          <ng-container matColumnDef="srNo">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="srNo">Sr. No.</th>
                            <td mat-cell *matCellDef="let element">
                              {{element.srNo}}</td>
                          </ng-container>

                          <ng-container matColumnDef="parameter">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="PrmName">Parameter</th>
                            <td mat-cell *matCellDef="let element">
                              {{element.PrmName}}</td>
                          </ng-container>

                          <ng-container matColumnDef="VariableFactor">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="VariableFactor">Variable Factor</th>
                            <td mat-cell *matCellDef="let element" contenteditable="true"
                              (keypress)="this.commonService.validateDecimal($event.keyCode)"
                              (blur)="onEditVarFactor(element,$event)">
                              {{element.VariableFactor}}
                            </td>
                          </ng-container>

                          <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                          <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>

                        </table>

                        <div class="fw-bold no-records text-center" *ngIf="parametersList.length==0">
                          No Records Found
                        </div>

                      </div>
                    </form>
                  </div>

                </mat-expansion-panel>
              </mat-accordion>
            </div>
          </div>
        </mat-tab>

        <mat-tab>
          <ng-template mat-tab-label class="shadow-md">
            <b class="tabName">Add As Admin</b>
          </ng-template>
          <div class="pt-30 pe-30 ps-30 pb-15 mat-tab-div">
            <div class="mb-15  h-100">
              <mat-accordion class="example-headers-align" multi class="form-expansion-panel">
                <mat-expansion-panel class="box-shadow-none" [expanded]="true">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Admin Form
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="position-relative">
                    <form [formGroup]="addAsAdminForm">
                      <div class="row pt-15 pe-15 ps-15 mt-10">
                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="userId">User Id</mat-label>
                              <input matInput type="text" class="form-control" formControlName="userId"
                                placeholder="User Id">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="emailId">Email Id</mat-label>
                              <input matInput type="text" class="form-control" formControlName="emailId"
                                placeholder="Email Id">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="contactNumber">Contact No</mat-label>
                              <input maxlength="10" matInput type="text" class="form-control"
                                formControlName="contactNumber" placeholder="Contact No">
                              <mat-error *ngIf="addAsAdminFormSubmitted && addAsAdminValidators['contactNumber'].errors && addAsAdminValidators['contactNumber'].errors['pattern']
                                ">Enter Valid Contact No </mat-error>
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="contactPerson">Contact Person</mat-label>
                              <input matInput type="text" class="form-control" formControlName="contactPerson"
                                placeholder="Contact Person">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="companyCode">Company Code</mat-label>
                              <input matInput type="text" class="form-control" formControlName="companyCode"
                                placeholder="Company Code">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group  without-icon ">
                            <mat-form-field appearance="fill">
                              <mat-label for="domainName">Domain Name</mat-label>
                              <input matInput type="text" class="form-control" formControlName="domainName"
                                placeholder="Domain Name">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="tagus-form-group without-icon">
                            <mat-form-field appearance="fill">
                              <mat-label for="subDomainName">Sub Domain</mat-label>
                              <div class="d-flex justify-content-end mt-minus-20">
                                <span class="material-symbols-outlined cursor-pointer mt-5"
                                  matTooltip="Enter subdomain like bluebenz.com, smas.in">
                                  help
                                </span>
                              </div>
                              <input matInput type="text" class="form-control" formControlName="subDomainName"
                                placeholder="Sub Domain">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="d-flex mt-10">
                            <button mat-stroked-button [disabled]="!isEditAccess || isView"
                              class="text-soft-dark text-dark" (click)="updateDomain()">Update
                            </button>
                          </div>
                        </div>

                        <div class="col-4 d-flex justify-content-end">
                          <div class="mt-10">
                            <button mat-stroked-button [disabled]="!isAddAccess || isView"
                              [ngClass]="[mainThemeClass!='' ? 'dialog-save-btn': 'text-bg-info',(!isView && isAddAccess)?'text-white':'']"
                              (click)="createAdmin()">Create Admin
                            </button>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>

                </mat-expansion-panel>
              </mat-accordion>
            </div>

            <div class="mb-15  h-100">
              <mat-accordion class="example-headers-align" multi class="form-expansion-panel">
                <mat-expansion-panel class="box-shadow-none" [expanded]="true">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Admin Level Approval
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="position-relative">
                    <form [formGroup]="addAsAdminForm">
                      <div class="mat-elevation-z8   tagus-mat-table overflow-auto m-15">
                        <table (matSortChange)="announceSortChange($event,'adminTable')" mat-table
                          [dataSource]="adminTableList" matSort #adminTable>
                          <ng-container matColumnDef="srNo">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="srNo">Sr. No</th>
                            <td mat-cell *matCellDef="let element">
                              {{element.srNo}}</td>
                          </ng-container>

                          <ng-container matColumnDef="userName">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="userName">User Name</th>
                            <td mat-cell *matCellDef="let element">
                              <form *ngIf="!element.selected" [formGroup]="adminForm">
                                <div class="tagus-form-group without-icon">
                                  <ng-select dropdownPosition="bottom" formControlName="userName"
                                    placeholder="Select User" class="dropdown" bindLabel="FName" bindValue="Id"
                                    [items]="DriversUsersList" [appendTo]="'body'" [clearable]="false"
                                    (change)="selectAdmin($event,element)" #userNameDropdown
                                    (window:scroll)="userNameDropdown.close()"
                                    [ngClass]="userNameDropdown.hasValue || userNameDropdown.isOpen?'placeholder-padding':''">
                                  </ng-select>
                                  <mat-error class="ms-15 me-15"
                                    [ngStyle]="{visibility:(adminFormsubmitted && Adminvalidators['userName'].errors && Adminvalidators['userName'].errors['required'])?'visible':'hidden'}">Select
                                    User Name</mat-error>
                                </div>
                              </form>
                              <span *ngIf="element.selected">{{element.userName}}</span>
                            </td>
                          </ng-container>

                          <ng-container matColumnDef="approvalStage">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="apLevel">Approval Stage</th>
                            <td mat-cell *matCellDef="let element">
                              <form *ngIf="!element.selected" [formGroup]="adminForm">
                                <div class="tagus-form-group without-icon">
                                  <ng-select dropdownPosition="bottom" formControlName="apvlLevel"
                                    placeholder="Approval Stage" class="dropdown" bindLabel="apLevel"
                                    bindValue="apStage" [items]="approvalStageList" [appendTo]="'body'"
                                    [clearable]="false" (change)="selectStage($event,element)" #apvlLevelDropdown
                                    (window:scroll)="apvlLevelDropdown.close()"
                                    [ngClass]="apvlLevelDropdown.hasValue || apvlLevelDropdown.isOpen?'placeholder-padding':''">
                                  </ng-select>
                                  <mat-error class="ms-15 me-15"
                                    [ngStyle]="{visibility:(adminFormsubmitted && Adminvalidators['apvlLevel'].errors && Adminvalidators['apvlLevel'].errors['required'])?'visible':'hidden'}">Select
                                    Approval Level</mat-error>
                                </div>
                              </form>
                              <span *ngIf="element.selected">{{element.apLevel}}</span>
                            </td>
                          </ng-container>


                          <ng-container matColumnDef="Action">
                            <th mat-header-cell *matHeaderCellDef>Action</th>
                            <td mat-cell *matCellDef="let element">
                              <!-- <span *ngIf="element.selected" class="material-symbols-outlined"
                                (click)="removeAdminData(element)">
                                delete
                              </span> -->

                              <span *ngIf="element.selected" class="material-symbols-outlined"
                                (click)="isDeleteAccess?removeAdminData(element):''"
                                [ngClass]="isDeleteAccess?'cursor-pointer':'cursor-not-allowed'" matTooltip="Delete">
                                delete
                              </span>
                            </td>
                          </ng-container>

                          <tr mat-header-row *matHeaderRowDef="displayedColumns4"></tr>
                          <tr mat-row *matRowDef="let row; columns: displayedColumns4;"></tr>

                        </table>

                        <div class="fw-bold no-records text-center" *ngIf="adminTableList.length==0">
                          No Records Found
                        </div>

                      </div>
                      <div class="d-flex justify-content-end cam-btn m-15">

                        <span *ngIf="adminSaved" class="material-symbols-outlined cursor-pointer me-20"
                          matTooltip="Add New Row" (click)="addNewRow()">
                          variable_add
                        </span>
                        <span class="material-symbols-outlined cursor-pointer" matTooltip="Add New User"
                          (click)="createUsersDrivers()" [ngClass]=" isView?'pointer-events-null':''">
                          person_add
                        </span>
                        <button mat-raised-button [ngClass]="mainThemeClass!='' ? 'dialog-save-btn': 'text-bg-info'"
                          class="tagus ms-20 me-20" (click)="saveAdmin()"
                          [disabled]="adminSaved || isView">Save</button>
                      </div>
                    </form>
                  </div>

                </mat-expansion-panel>
              </mat-accordion>
            </div>
          </div>
        </mat-tab>

        <mat-tab>
          <ng-template mat-tab-label class="shadow-md">
            <b>Other Features</b>
          </ng-template>
          <div class="pt-30 pe-30 ps-30 pb-15 mat-tab-div">
            <div class="mb-15  h-100">
              <mat-accordion class="example-headers-align" multi class="form-expansion-panel">
                <mat-expansion-panel class="box-shadow-none" [expanded]="true">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Other Features
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="position-relative">
                    <form [formGroup]="OtherFeaturesForm">
                      <div class="row p-15 mt-10">

                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-25 ms-20 mt-20">
                            <mat-label>Elite Services</mat-label>
                            <mat-slide-toggle formControlName="eliteServices"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-25 ms-20 mt-20">
                            <mat-label>No Service Tax on Insurance</mat-label>
                            <mat-slide-toggle formControlName="NServiceTaxInsurance"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-25 ms-20 mt-20">
                            <mat-label>RV Print on OCF</mat-label>
                            <mat-slide-toggle formControlName="rvPrintOCF"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-25 ms-20 mt-20">
                            <mat-label>TLR</mat-label>
                            <mat-slide-toggle formControlName="TLR"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-25 ms-20 mt-20">
                            <mat-label>No Service Tax on Road TAX</mat-label>
                            <mat-slide-toggle formControlName="NServiceTaxRoadTax"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-25 ms-20 mt-20">
                            <mat-label>Maintenance on Rco</mat-label>
                            <mat-slide-toggle formControlName="maintRco"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-25 ms-20 mt-20">
                            <mat-label>Book value Chart</mat-label>
                            <mat-slide-toggle formControlName="bookValueChart"></mat-slide-toggle>
                          </div>
                        </div>

                        <div class="col-4">
                          <div class="col-8 d-flex justify-content-space-between mb-25 ms-20 mt-20">
                            <mat-label>RTO Kit</mat-label>
                            <mat-slide-toggle formControlName="RTOKit"></mat-slide-toggle>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>

                </mat-expansion-panel>
              </mat-accordion>
            </div>

            <div class="mb-15  h-100">
              <mat-accordion class="example-headers-align" multi class="form-expansion-panel">
                <mat-expansion-panel class="box-shadow-none" [expanded]="true">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Client RV
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="position-relative">
                    <form [formGroup]="OtherFeaturesForm">
                      <div class="mat-elevation-z8   tagus-mat-table overflow-auto m-15">
                        <table (matSortChange)="announceSortChange($event,'clientRVTable')" mat-table
                          [dataSource]="clientRVTableList" matSort #clientRVTable>
                          <ng-container matColumnDef="Month">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="C1">Month</th>
                            <td mat-cell *matCellDef="let element"
                              (keypress)="this.commonService.validateDecimal($event.keyCode)"
                              (blur)="onEditClientRV(element,$event,element.C1.colId)">
                              {{element.C1.RvValue}}</td>
                          </ng-container>

                          <ng-container matColumnDef="12">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="C2">12</th>
                            <td mat-cell *matCellDef="let element" contenteditable="true"
                              (keypress)="this.commonService.validateDecimal($event.keyCode)"
                              (blur)="onEditClientRV(element,$event,element.C2.colId)">
                              {{element.C2.RvValue}}</td>
                          </ng-container>

                          <ng-container matColumnDef="24">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="C3">24</th>
                            <td mat-cell *matCellDef="let element" contenteditable="true"
                              (keypress)="this.commonService.validateDecimal($event.keyCode)"
                              (blur)="onEditClientRV(element,$event,element.C3.colId)">
                              {{element.C3.RvValue}}
                            </td>
                          </ng-container>

                          <ng-container matColumnDef="36">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="C4">36</th>
                            <td mat-cell *matCellDef="let element" contenteditable="true"
                              (keypress)="this.commonService.validateDecimal($event.keyCode)"
                              (blur)="onEditClientRV(element,$event,element.C4.colId)">
                              {{element.C4.RvValue}}
                          </ng-container>

                          <ng-container matColumnDef="48">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="C5">48</th>
                            <td mat-cell *matCellDef="let element" contenteditable="true"
                              (keypress)="this.commonService.validateDecimal($event.keyCode)"
                              (blur)="onEditClientRV(element,$event,element.C5.colId)">
                              {{element.C5.RvValue}}
                          </ng-container>

                          <ng-container matColumnDef="60">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="C6">60</th>
                            <td mat-cell *matCellDef="let element" contenteditable="true"
                              (keypress)="this.commonService.validateDecimal($event.keyCode)"
                              (blur)="onEditClientRV(element,$event,element.C6.colId)">
                              {{element.C6.RvValue}}
                          </ng-container>

                          <tr mat-header-row *matHeaderRowDef="displayedColumns3"></tr>
                          <tr mat-row *matRowDef="let row; columns: displayedColumns3;"></tr>

                        </table>

                        <div class="fw-bold no-records text-center" *ngIf="clientRVTableList.length==0">
                          No Records Found
                        </div>

                      </div>
                    </form>
                  </div>

                </mat-expansion-panel>
              </mat-accordion>
            </div>
          </div>
        </mat-tab>

      </mat-tab-group>
    </mat-card-content>
    <div *ngIf="!IsApproverView && !isView" class="d-flex justify-content-end align-items-center pb-30 pe-30">
      <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"
        class="cursor-pointer me-15" (click)="resetForm()" matTooltip="Reset">
        <g id="solar:refresh-bold">
          <path *ngIf="!darkThemeMode" id="Vector"
            d="M10.5692 1.96876C6.37444 1.96876 2.92694 5.17389 2.59094 9.26014H1.75007C1.61996 9.26007 1.49278 9.29869 1.38467 9.37107C1.27656 9.44344 1.1924 9.54632 1.14289 9.66664C1.09337 9.78695 1.08074 9.91926 1.10659 10.0468C1.13244 10.1743 1.19561 10.2912 1.28807 10.3828L2.75807 11.8405C2.88097 11.9623 3.04701 12.0307 3.22007 12.0307C3.39312 12.0307 3.55916 11.9623 3.68207 11.8405L5.15207 10.3828C5.24452 10.2912 5.30769 10.1743 5.33354 10.0468C5.35939 9.91926 5.34676 9.78695 5.29724 9.66664C5.24773 9.54632 5.16357 9.44344 5.05546 9.37107C4.94735 9.29869 4.82017 9.26007 4.69007 9.26014H3.90869C4.24119 5.90801 7.09194 3.28126 10.5692 3.28126C11.7157 3.27888 12.8436 3.5707 13.845 4.1288C14.8465 4.6869 15.688 5.49262 16.2891 6.46888C16.3331 6.54463 16.3918 6.61081 16.4617 6.66351C16.5317 6.71621 16.6115 6.75437 16.6965 6.77574C16.7814 6.79711 16.8698 6.80126 16.9563 6.78794C17.0429 6.77462 17.1259 6.7441 17.2005 6.69819C17.2751 6.65228 17.3398 6.59189 17.3907 6.5206C17.4416 6.44931 17.4777 6.36854 17.4969 6.28308C17.5161 6.19761 17.5179 6.10917 17.5024 6.02296C17.4869 5.93676 17.4542 5.85453 17.4064 5.78113C16.688 4.61413 15.6823 3.65088 14.4854 2.98342C13.2885 2.31597 11.9396 1.96662 10.5692 1.96876ZM18.2359 9.15864C18.1131 9.03734 17.9474 8.96932 17.7748 8.96932C17.6022 8.96932 17.4365 9.03734 17.3137 9.15864L15.8376 10.6164C15.7449 10.7078 15.6814 10.8248 15.6554 10.9523C15.6293 11.0799 15.6418 11.2124 15.6913 11.3328C15.7407 11.4533 15.8249 11.5563 15.933 11.6288C16.0412 11.7013 16.1685 11.7399 16.2987 11.7399H17.0853C16.7511 15.0911 13.8907 17.7188 10.3968 17.7188C9.24675 17.722 8.11501 17.4306 7.10946 16.8725C6.1039 16.3143 5.25803 15.508 4.65244 14.5303C4.60717 14.4569 4.54789 14.3932 4.47798 14.3427C4.40808 14.2922 4.32892 14.2561 4.24503 14.2362C4.16114 14.2163 4.07415 14.2132 3.98905 14.2269C3.90394 14.2407 3.82237 14.271 3.749 14.3163C3.60083 14.4078 3.49505 14.5543 3.45493 14.7237C3.4148 14.8932 3.44363 15.0716 3.53507 15.2198C4.25829 16.388 5.26859 17.3516 6.46973 18.0188C7.67086 18.686 9.02282 19.0346 10.3968 19.0313C14.6038 19.0313 18.0662 15.8288 18.4031 11.7399H19.2501C19.3803 11.7399 19.5076 11.7013 19.6157 11.6288C19.7239 11.5563 19.808 11.4533 19.8575 11.3328C19.9069 11.2124 19.9194 11.0799 19.8934 10.9523C19.8673 10.8248 19.8039 10.7078 19.7112 10.6164L18.2359 9.15864Z"
            fill="black" />
          <path *ngIf="darkThemeMode" id="Vector"
            d="M10.5692 1.96876C6.37444 1.96876 2.92694 5.17389 2.59094 9.26014H1.75007C1.61996 9.26007 1.49278 9.29869 1.38467 9.37107C1.27656 9.44344 1.1924 9.54632 1.14289 9.66664C1.09337 9.78695 1.08074 9.91926 1.10659 10.0468C1.13244 10.1743 1.19561 10.2912 1.28807 10.3828L2.75807 11.8405C2.88097 11.9623 3.04701 12.0307 3.22007 12.0307C3.39312 12.0307 3.55916 11.9623 3.68207 11.8405L5.15207 10.3828C5.24452 10.2912 5.30769 10.1743 5.33354 10.0468C5.35939 9.91926 5.34676 9.78695 5.29724 9.66664C5.24773 9.54632 5.16357 9.44344 5.05546 9.37107C4.94735 9.29869 4.82017 9.26007 4.69007 9.26014H3.90869C4.24119 5.90801 7.09194 3.28126 10.5692 3.28126C11.7157 3.27888 12.8436 3.5707 13.845 4.1288C14.8465 4.6869 15.688 5.49262 16.2891 6.46888C16.3331 6.54463 16.3918 6.61081 16.4617 6.66351C16.5317 6.71621 16.6115 6.75437 16.6965 6.77574C16.7814 6.79711 16.8698 6.80126 16.9563 6.78794C17.0429 6.77462 17.1259 6.7441 17.2005 6.69819C17.2751 6.65228 17.3398 6.59189 17.3907 6.5206C17.4416 6.44931 17.4777 6.36854 17.4969 6.28308C17.5161 6.19761 17.5179 6.10917 17.5024 6.02296C17.4869 5.93676 17.4542 5.85453 17.4064 5.78113C16.688 4.61413 15.6823 3.65088 14.4854 2.98342C13.2885 2.31597 11.9396 1.96662 10.5692 1.96876ZM18.2359 9.15864C18.1131 9.03734 17.9474 8.96932 17.7748 8.96932C17.6022 8.96932 17.4365 9.03734 17.3137 9.15864L15.8376 10.6164C15.7449 10.7078 15.6814 10.8248 15.6554 10.9523C15.6293 11.0799 15.6418 11.2124 15.6913 11.3328C15.7407 11.4533 15.8249 11.5563 15.933 11.6288C16.0412 11.7013 16.1685 11.7399 16.2987 11.7399H17.0853C16.7511 15.0911 13.8907 17.7188 10.3968 17.7188C9.24675 17.722 8.11501 17.4306 7.10946 16.8725C6.1039 16.3143 5.25803 15.508 4.65244 14.5303C4.60717 14.4569 4.54789 14.3932 4.47798 14.3427C4.40808 14.2922 4.32892 14.2561 4.24503 14.2362C4.16114 14.2163 4.07415 14.2132 3.98905 14.2269C3.90394 14.2407 3.82237 14.271 3.749 14.3163C3.60083 14.4078 3.49505 14.5543 3.45493 14.7237C3.4148 14.8932 3.44363 15.0716 3.53507 15.2198C4.25829 16.388 5.26859 17.3516 6.46973 18.0188C7.67086 18.686 9.02282 19.0346 10.3968 19.0313C14.6038 19.0313 18.0662 15.8288 18.4031 11.7399H19.2501C19.3803 11.7399 19.5076 11.7013 19.6157 11.6288C19.7239 11.5563 19.808 11.4533 19.8575 11.3328C19.9069 11.2124 19.9194 11.0799 19.8934 10.9523C19.8673 10.8248 19.8039 10.7078 19.7112 10.6164L18.2359 9.15864Z"
            fill="white" />
        </g>
      </svg>
      <button (click)="location.back()" mat-flat-button class="gray me-15 white-color">
        Cancel
      </button>
      <button *ngIf="selectedtab!=4" [disabled]="!isAddAccess" mat-flat-button color="primary" class="bg-theme-color"
        [ngClass]="[isAddAccess?'text-white':'']" (click)="moveToNextTab()">Save and Next
      </button>
      <button *ngIf="!editMode && selectedtab==4" [disabled]="!isAddAccess" mat-flat-button color="primary"
        class="bg-theme-color" [ngClass]="[isAddAccess?'text-white':'']" (click)="addContract()">Save
      </button>
      <button *ngIf="editMode && selectedtab==4" [disabled]="!isEditAccess" mat-flat-button color="primary"
        class="bg-theme-color" [ngClass]="[isEditAccess?'text-white':'']" (click)="updateContract()">Update
      </button>
    </div>

    <div *ngIf="IsApproverView" class="d-flex justify-content-end align-items-center pb-30 pe-30">

      <button (click)="location.back()" mat-flat-button class="gray mt-10 me-15 white-color">
        Cancel
      </button>

      <button mat-stroked-button [disabled]="!isApprovAccess" class="mt-10 me-15"
        [ngClass]="[mainThemeClass!='' ? 'dialog-save-btn': 'text-bg-info',isApprovAccess?'text-white':'']"
        (click)="approveRequest()">Approve
      </button>

      <button (click)="rejectRequest()" mat-stroked-button class="mt-10 me-15" [disabled]="!isApprovAccess"
        [ngClass]="[isApprovAccess?'custom-gray-bg text-white ':'']">
        Reject
      </button>
    </div>
  </mat-card>
</div>